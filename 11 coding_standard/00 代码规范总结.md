## 1、代码规范的意义

(1) 方便维护<br>
一个软件的生命周期中，80%的花费在于维护。<br>
几乎没有任何一个软件，在其整个生命周期中，均由最初的开发人员来维护。<br>
好的编码规范可以减少一个软件的维护成本。

(2)提升软件的可读性，使开发人员尽快读懂代码；

(3)提高团队开发的合作效率；

(4)养成好的编码习惯，使思维更加严谨。


## 2、代码规范原则

(1)没有标准的编码规范，只有一些约定俗成的，适合自己的编码规范；

(2)求同存异<br>
不要妄图改变组织的编码习惯，除非有绝对合理的理由，毕竟你没有权利要求所有人都沿用你的编码习惯。<br>
最基本的规范属于强制部分，所有成员必须遵守；<br>
不是必须遵守的规范属于推荐部分，开发人员可以根据自己习惯选择是否使用。<br>

(3):定义编码规范越早越好


## 3、 标识符命名

### 命名原则：标识符的命名力求做到统一、达意和简洁。

统一是指，对于同一个概念，在一个产品中用同一种表示方法；

达意是指，标识符能准确的表达出它所代表的意义；

简洁是指，在统一和达意的前提下，用尽量少的标识符。如果不能达意，宁愿不要简洁。

### 驼峰法则

Java中，除了包名，静态常量等特殊情况，大部分情况下标识符使用骆驼法则，即单词之间不使用特殊符号分割，而是通过首字母大写来分割。比如: SupplierName, addNewContract。

### 常量

常量命名全部大写，单词间用下划线隔开，力求语义表达完整，不要嫌名字长。

### 英文VS拼音

尽量使用通俗易懂的英文单词，实在不行则使用汉语拼音，避免拼音与英文混用。

### 包名

包名全部小写，连续的单词只是简单地连接起来，不使用下划线。

### 常量

Long或者long初始赋值时，必须使用大写的L，不能是小写的l，小写的容易跟数字1混淆，造成误解。

不要使用一个常量类来维护所有的常量，应该按常量功能进行归类，分开维护。

## 4、注释规范

原则：少而精，不宜多而滥，更不能误导。<br>
(1)命名达意，结构清晰的代码，可以不需要注释，或者只需要很少注释，就可以让人读懂；<br>
(2)好的注释，便于阅读代码。不准确的注释，只会损害代码的可读性；<br>
(3)注释要和代码同步，过多的注释会成为开发的负担,多余的的注释很容易过时。<br>
(4)废弃的代码，直接删除，不建议注释掉，SVN有有记录的。<br>
(5)好的注释，例如javadoc，能简化不少文档的维护工作。<br>
(6)未完成的功能使用TODO标记,完成后及时去掉TODO标记<br>
(7)修改他人代码时要先注释对方代码，并写明修改原因，不允许随便删除他人代码。


## 5、异常处理


## 6、日志规范


大多程序员都遇到过这个场景，项目上线后，排查问题的时候，就因为少了一句关键日志输出，导致死活分析不出来问题出在哪里。没有日志不行，日志太多了也不好。<br>
输出规范的日志，输出关键业务日志，日志文件切分，日志清理机制.<br>

private static final Logger logger = Logger.getLogger(PisBaseServerController.class);<br>
log4j五个级别的日志：DEBUG、INFO、WARN、ERROR和FATAL。<br>
这五个级别是有顺序的，DEBUG < INFO < WARN < ERROR < FATAL，分别用来指定这条日志信息的重要程度.<br>
Log4j有一个规则：只输出级别不低于设定级别的日志信息<br>
假设Loggers级别设定为INFO，则INFO、WARN、ERROR和FATAL级别的日志信息都会输出，而级别比INFO低的DEBUG则不会输出

## 7、数据库


基本原则：
(1)数据库设计由专人维护，其他人不能随意修改。修改数据库结构需要提出申请。
(2)数据库设计规则，有些是强制性的，有些是推荐性的。

1：建表规约

(1):[强制]表达“是否”概念的字段，必须使用is_XXX的方式命名，数据类型是unsigned tinyint(1：是，0：否)
备注：任何字段如果是非负数，必须是unsigned。

(2):[强制]表名、字段名必须使用小写字母或者数字；禁止出现数字开头，禁止两个下划线中间只有数字。数据库字段名的修改代价很大，因为无法进行预发布，所以字段名称需要慎重考虑。
正例：getter_admin,task_config,level3_name
反例：GetterAdmin，taskConfig，level_3_name

(3):[强制]表名不能使用复数名词
备注：表名应该仅仅表示表的实体内容，不应该表示实体数量，对于DO类名也是单数形式，符合表达习惯。

(4):[强制]禁用保留字，如desc,range,match,delayed等。

(5):[强制]唯一索引名为uk_字段名；普通索引名为inx_字段名。
备注：uk_即unique key；inx_即index的简称。

(6):[强制]小数类型为decimal，禁止使用float或者double。
备注：float和double在存储的时候，存在精度损失的问题，很可能在值的比较时，得到不正确的结果。如果存储的数据范围超出了decimal的范围，建议将数据拆分成整数部分和小数部分，分开存储。

(7):[强制]如果存储的字符串长度几乎相等，使用CHAR定义字符串类型。

(8):[强制]varchar是可变长字符串，不预先分配存储空间，长度不要超过5000，如果存储长度大于此值，定义字段类型为TEXT，独立出来一张表，用主键来对应，避免影响其他字段索引效率。

(9):[强制]表必备三字段：id，create_time,update_time
备注：id主键，类型是unsigned bigint、单表时自增、步长为1；分表时改为从TDDL Sequence取值，确保分表之间的全局唯一。create_time创建时间，update_time修改时间，类型都是 date_time类型。

(10):[强制]每张表、字段、视图要有注释（comment），例如：业务模块|字段描述|创建人|创建时间

(11):[推荐]表的命名最好是“业务名称_表的作用”，避免业务模块增多市，与其他业务表关联时有混淆。

(12):[推荐]库名与应用名称尽量一致。

(13):[推荐]如果修改字段含义或者对字段的状态追加时，需要及时更新字段注释。

(14):[推荐]字段允许适当冗余，以提高性能，但是必须考虑数据同步问题。冗余字段应该遵循：
1)不是频繁修改的字段
2)不是varchar超长字段，更不能是text字段。
正例：各业务经常冗余存储商品名称，避免查询时需要调用其他接口服务获取。

(15):[推荐]单表行数超过500万行或者单表容量超过2GB，才推荐进行分库分表。

(16):[推荐]合适的字符存储长度，不但节省数据库表空间、节约索引存储，更重要的是提升检索速度。
正例：人的年龄用unsigned tinyint(表示范围0-255，人的寿命不会超过255岁)；海龟就必须是smallint，但是如果是太阳的年龄，就必须是int。

(17)[推荐]数据一般不做物理删除，设计字段is_delete是否删除。 0：表示未删除 1：表示已删除

(18):[推荐]如果字段为枚举类型,需要列举枚举范围并说明每个枚举值的含义。











